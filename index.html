<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap.min.css" />
  <link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/fixedheader/3.2.0/css/fixedHeader.bootstrap.min.css" />
  <link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/responsive/2.2.9/css/responsive.bootstrap.min.css" />
  <title>Daftar Mahasiswa</title>
</head>
<body">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <h3 class="text-center mb-4">LAPORAN KBM HARIAN SMKN 8 BONE</h3>
        <h4 class="text-center mb-4" id="date">Tanggal</h4>
        <h4 class="text-center mb-4" id="packageName"></h4>
        <br>
        <br>
        <br>
        <br>
        <table id="example" class="table table-striped table-bordered mt-2 mb-2" style="width: 100%"></table>
        <br />
        <br />
        <p id="passingGrade"></p>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap.min.js"></script>
  <script src="https://cdn.datatables.net/fixedheader/3.2.0/js/dataTables.fixedHeader.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.2.9/js/responsive.bootstrap.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <!-- <script type="text/javascript" src="data.json"></script> -->
  <script type="text/javascript">
    $(document).ready(function () {
      const url = "https://script.google.com/macros/s/AKfycbzCpzS8CsT6KGjyC4DpS2XFFO68BHYWnfB6vhH7hGFUPv4o59zFEHljOkKPQUV_xLHdsg/exec";

      fetch(url)
        .then(response => response.json())
        .then(data => {
          const rawDate = new Date(data.tanggal);
          const options = {
            weekday: 'long',
            day: '2-digit',
            month: 'long',
            year: 'numeric',
          };
          const formattedDate = rawDate.toLocaleDateString('id-ID', options);
          document.getElementById("date").textContent = `Tanggal: ${formattedDate}`;
        })
      $("#example").DataTable({
        ajax: "https://script.google.com/macros/s/AKfycbzCpzS8CsT6KGjyC4DpS2XFFO68BHYWnfB6vhH7hGFUPv4o59zFEHljOkKPQUV_xLHdsg/exec",
        columns: [
          {
            title: "NO",
            data: "1",
          },
          {
            title: "KELAS",
            data: "2",
          },
          {
            title: "MATA PELAJARAN",
            data: "3",
          },
          {
            title: "NAMA GURU MAPEL",
            data: "4",
          },
          {
            title: "MULAI JAM KE",
            data: "5",
          },
          {
            title: "JUMLAH JAM",
            data: "6",
          },
          {
            title: "NAMA WALI KELAS",
            data: "7",
          },
          {
            title: "HADIR",
            data: "8",
          },
          {
            title: "SAKIT",
            data: "9",
          },
          {
            title: "IZIN",
            data: "10",
          },
          {
            title: "ALPA",
            data: "11",
          },
          {
            title: "KONDISI KELAS",
            data: "12",
          },
          {
            title: "DOKUMENTASI 1",
            data: "13",
          },
          {
            title: "DOKUMENTASI 2",
            data: "14",
          },
          {
            title: "DOKUMENTASI 3",
            data: "15",
          },
          {
            title: "DOKUMENTASI 4",
            data: "16",
          },
          {
            title: "PIKET PENGGANTI",
            data: "17",
          }

        ],
        rowId: "KELAS",
        liveAjax: true,
      });
    });
  </script>
  </body>

</html>